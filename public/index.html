<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Upload App</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Main App Container -->
    <div id="app">
        <!-- Loading State -->
        <div id="loading-screen" class="loading-container">
            <div class="spinner-large"></div>
            <p>Loading...</p>
        </div>

        <!-- Login Screen -->
        <div id="login-screen" class="auth-container" style="display: none;">
            <div class="auth-card">
                <div class="auth-header">
                    <h1>Welcome Back</h1>
                    <p>Sign in to access your file storage</p>
                </div>
                <form id="login-form" class="auth-form">
                    <div class="form-group">
                        <label for="login-username">Username</label>
                        <input 
                            type="text" 
                            id="login-username" 
                            placeholder="Enter your username"
                            autocomplete="username"
                            required
                        >
                    </div>
                    <div class="form-group">
                        <label for="login-password">Password</label>
                        <input 
                            type="password" 
                            id="login-password" 
                            placeholder="Enter your password"
                            autocomplete="current-password"
                            required
                        >
                    </div>
                    <div id="login-error" class="error-message" style="display: none;"></div>
                    <button type="submit" class="auth-button" id="login-submit-btn">
                        Sign In
                    </button>
                </form>
                <div class="auth-footer">
                    <p>
                        Don't have an account? 
                        <button id="switch-to-signup" class="link-button">Sign up</button>
                    </p>
                </div>
            </div>
        </div>

        <!-- Signup Screen -->
        <div id="signup-screen" class="auth-container" style="display: none;">
            <div class="auth-card">
                <div class="auth-header">
                    <h1>Create Account</h1>
                    <p>Sign up to start uploading files</p>
                </div>
                <form id="signup-form" class="auth-form">
                    <div class="form-group">
                        <label for="signup-username">Username</label>
                        <input 
                            type="text" 
                            id="signup-username" 
                            placeholder="Choose a username"
                            autocomplete="username"
                            required
                        >
                    </div>
                    <div class="form-group">
                        <label for="signup-password">Password</label>
                        <input 
                            type="password" 
                            id="signup-password" 
                            placeholder="Choose a password"
                            autocomplete="new-password"
                            required
                        >
                    </div>
                    <div class="form-group">
                        <label for="signup-confirm-password">Confirm Password</label>
                        <input 
                            type="password" 
                            id="signup-confirm-password" 
                            placeholder="Confirm your password"
                            autocomplete="new-password"
                            required
                        >
                    </div>
                    <div id="signup-error" class="error-message" style="display: none;"></div>
                    <button type="submit" class="auth-button" id="signup-submit-btn">
                        Create Account
                    </button>
                </form>
                <div class="auth-footer">
                    <p>
                        Already have an account? 
                        <button id="switch-to-login" class="link-button">Sign in</button>
                    </p>
                </div>
            </div>
        </div>

        <!-- Main Application (After Login) -->
        <div id="main-app" class="app" style="display: none;">
            <div class="container">
                <!-- Header -->
                <header class="header">
                    <div class="header-content">
                        <div>
                            <h1>File Upload App</h1>
                            <p>Upload any file to Supabase Storage</p>
                        </div>
                        <div class="user-section">
                            <span class="welcome-text">
                                Welcome, <strong id="username-display"></strong>
                            </span>
                            <button id="logout-btn" class="logout-button">Logout</button>
                        </div>
                    </div>
                </header>

                <!-- Premium Button -->
                <div class="payment-button-container">
                    <button id="premium-btn" class="payment-button">
                        Upgrade to Premium âœ¨
                    </button>
                    <div id="payment-message" class="payment-message" style="display: none;">
                        Connect to payments
                    </div>
                </div>

                <!-- File Upload Section -->
                <div class="file-upload">
                    <div class="upload-area" id="upload-area">
                        <input 
                            type="file" 
                            id="file-input" 
                            style="display: none;"
                        >
                        <div class="upload-icon">
                            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M7 18C4.23858 18 2 15.7614 2 13C2 10.2386 4.23858 8 7 8C7.36064 8 7.71474 8.03194 8.05858 8.09332C8.01898 7.73385 8 7.36923 8 7C8 3.68629 10.6863 1 14 1C17.3137 1 20 3.68629 20 7C20 7.36923 19.981 7.73385 19.9414 8.09332C20.2853 8.03194 20.6394 8 21 8C23.7614 8 26 10.2386 26 13C26 15.7614 23.7614 18 21 18H7Z" fill="currentColor" opacity="0.3"/>
                                <path d="M13 10L13 20M13 10L10 13M13 10L16 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <div class="upload-text">
                            <p class="upload-title" id="upload-title">Drag & drop your file here</p>
                            <p class="upload-subtitle" id="upload-subtitle">or</p>
                        </div>
                        <button type="button" class="select-button" id="select-file-btn">
                            Select File
                        </button>
                    </div>
                    <button class="upload-button" id="upload-btn" style="display: none;">
                        Upload File
                    </button>
                    <div id="upload-status" class="status-message" style="display: none;"></div>
                </div>

                <!-- File List Section -->
                <div class="file-list">
                    <div class="file-list-header">
                        <h2>Uploaded Files</h2>
                        <button id="refresh-btn" class="refresh-button" title="Refresh">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M4 12C4 7.58172 7.58172 4 12 4C14.5264 4 16.7792 5.17108 18.2454 7M20 12C20 16.4183 16.4183 20 12 20C9.47362 20 7.22082 18.8289 5.75463 17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                <path d="M18 3V7H14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M6 21V17H10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                    </div>
                    <div id="file-list-content">
                        <div class="loading">
                            <div class="spinner-large"></div>
                            <p>Loading files...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>

